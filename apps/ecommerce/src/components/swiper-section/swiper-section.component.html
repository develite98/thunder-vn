<!-- eslint-disable @angular-eslint/template/alt-text -->
<div class="w-full">
  <div class="container overflow-hidden mx-auto flex gap-4">
    <div class="flex w-full gap-2">
      <div
        class="hidden md:block w-[259px] min-w-[259px] h-full border-l border-b border-r rounded-b-lg border-primary/35"
      >
        <ul class="menu rounded-box w-56 h-full mt-2">
          @for (
            cat of cats.dataEntities() || [] | slice: 0 : 3;
            track cat.title
          ) {
            <li>
              <h2 class="menu-title text-sm text-primary">{{ cat.title }}</h2>
              <ul class="font-medium text-sm flex flex-col gap-1">
                @for (
                  item of getBlogsByCat(cat, products.dataEntities());
                  track item.id
                ) {
                  <li>
                    <a [routerLink]="['/product', item.id]">{{ item.title }}</a>
                  </li>
                }
              </ul>
            </li>
          }
        </ul>
      </div>

      <div class="grow overflow-hidden">
        <div
          class="w-full flex md:hidden justify-center px-4 gap-4 items-center"
        >
          <div>
            <div class="drawer">
              <input id="my-drawer-4" type="checkbox" class="drawer-toggle" />
              <div class="drawer-content">
                <label
                  for="my-drawer-4"
                  class="btn btn-outline border-base-content/10 md:hidden rounded-lg"
                  ><mix-icon icon="menu"></mix-icon
                ></label>
              </div>
              <div class="drawer-side z-40">
                <label
                  for="my-drawer-4"
                  aria-label="close sidebar"
                  class="drawer-overlay"
                ></label>
                <ul
                  class="menu bg-base-200 text-base-content min-h-full w-80 p-4"
                >
                  @for (
                    cat of cats.dataEntities() || [] | slice: 0 : 5;
                    track cat.title
                  ) {
                    <li>
                      <h2 class="menu-title text-sm text-primary">
                        {{ cat.title }}
                      </h2>
                      <ul class="font-medium text-sm flex flex-col gap-1">
                        @for (
                          item of getBlogsByCat(cat, products.dataEntities());
                          track item.id
                        ) {
                          <li>
                            <a [routerLink]="['/product', item.id]">{{
                              item.title
                            }}</a>
                          </li>
                        }
                      </ul>
                    </li>
                  }
                </ul>
              </div>
            </div>
          </div>

          <app-animated-input
            class="w-full"
            (onSearch)="onSearch($event)"
          ></app-animated-input>
        </div>

        <swiper-container
          slides-per-view="1"
          pagination="true"
          autoplay-delay="3000"
          class="rounded-box w-full h-full p-4 rounded-lg overflow-hidden"
        >
          @for (slide of banner(); track slide.image) {
            <swiper-slide>
              <div
                class="bg-base-100 w-full aspect-[16/7] relative p-4 rounded-lg overflow-hidden"
              >
                <img
                  [src]="slide.image"
                  class="object-cover w-full h-full absolute top-0 left-0 z-1"
                />
              </div>
            </swiper-slide>
          }
        </swiper-container>
      </div>
    </div>
  </div>

  <div class="container mx-auto mt-4 md:mt-12">
    <ecom-pinned-blogs></ecom-pinned-blogs>
  </div>
</div>
