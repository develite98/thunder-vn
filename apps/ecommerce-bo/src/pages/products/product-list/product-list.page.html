<div class="w-full gap-4">
  <mix-table
    [data]="store.dataEntities() || []"
    [paging]="store.pagingInfo()"
    [loading]="store.isLoading()"
    [filterOptions]="store.filterConfig"
    (goPrevious)="store.goPreviousPage()"
    (goNext)="store.goNextPage()"
    (rowClick)="goDetail($event.id)"
    [toolbarTpl]="toolar"
    [(searchText)]="searchText"
  >
    <ng-template #toolar>
      <mix-button
        [prefixIcon]="'plus'"
        [color]="'primary'"
        (click)="onCreate()"
      >
        {{ 'ecommerce.product.create' | transloco }}
      </mix-button>
    </ng-template>

    <div mixTableColumn [header]="'ID'" [key]="'id'">
      <ng-template mixColumnCell let-row>
        <mix-copy-text [text]="row.data.id"></mix-copy-text>
      </ng-template>
    </div>

    <div mixTableColumn [header]="'URL'" [key]="'seo_url'">
      <ng-template mixColumnCell let-row>
        <mix-copy-text [text]="row.data.seo_url"></mix-copy-text>
      </ng-template>
    </div>

    <div mixTableColumn [header]="'ecommerce.product.name'" [key]="'title'">
      <ng-template mixColumnCell let-row>
        {{ row.data.title }}
      </ng-template>
    </div>

    <div
      mixTableColumn
      [header]="'ecommerce.product.price'"
      [key]="'totalPrice'"
    >
      <ng-template mixColumnCell let-row>
        <mix-currency [value]="row.data.price"></mix-currency>
      </ng-template>
    </div>

    <div [header]="'common.status'" key="'status'" mixTableColumn>
      <ng-template let-row mixColumnCell>
        <div
          class="w-32"
          (click)="$event.stopPropagation(); $event.preventDefault()"
          (keyup)="$event.stopPropagation(); $event.preventDefault()"
          tabindex="0"
        >
          <mix-status-select
            [value]="row.data.status"
            (valueChange)="onUpdateStatus(row.data, $event)"
          ></mix-status-select>
        </div>
      </ng-template>
    </div>

    <div
      mixTableColumn
      [header]="'common.created_date'"
      [key]="'createdDateTime'"
    >
      <ng-template mixColumnCell let-row>
        <span class="text-sm">
          {{ row.data.created_date_time | date: 'short' }}
        </span>
      </ng-template>
    </div>
  </mix-table>
</div>
