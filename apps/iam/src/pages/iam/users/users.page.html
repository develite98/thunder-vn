<div class="w-full gap-4">
  <mix-table
    [toolbarTpl]="toolar"
    [data]="store.dataEntities() || []"
    [paging]="store.pagingInfo()"
    [loading]="store.isLoading()"
    [filterOptions]="filterConfig"
    [filterValues]="store.query().queries || []"
    (onFilterChange)="store.filter($event)"
    (goPrevious)="store.goPreviousPageRouter()"
    (goNext)="store.goNextPageRouter()"
    (goToPage)="store.goToPageRouter($event.pageIndex)"
    (refresh)="store.refresh()"
    (rowClick)="onEditUser($event.id)"
  >
    <ng-template #toolar>
      <div class="flex items-center gap-2">
        <mix-button
          [prefixIcon]="'plus'"
          [color]="'primary'"
          (click)="onCreateUser()"
        >
          {{ 'iam.user.create' | transloco }}
        </mix-button>

        <mix-button
          [prefixIcon]="'plus'"
          [color]="'secondary'"
          (click)="onCreateBulkUser()"
        >
          {{ 'iam.user.bulkCreate' | transloco }}
        </mix-button>
      </div>
    </ng-template>

    <div mixTableColumn [header]="'Key'" [key]="'systemName'">
      <ng-template mixColumnCell let-row>
        <mix-copy-text [text]="row.data.id"></mix-copy-text>
      </ng-template>
    </div>

    <div mixTableColumn [header]="'User-name'" [key]="'displayName'">
      <ng-template mixColumnCell let-row>
        <mix-copy-text [text]="row.data.userName"></mix-copy-text>
      </ng-template>
    </div>

    <div mixTableColumn [header]="'Email'" [key]="'email'">
      <ng-template mixColumnCell let-row>
        {{ row.data.email }}
      </ng-template>
    </div>

    <div mixTableColumn [header]="'Created'" [key]="'createdDateTime'">
      <ng-template mixColumnCell let-row>
        <span class="text-sm">
          {{ row.data.createdDateTime | date: 'short' }}
        </span>
      </ng-template>
    </div>
  </mix-table>
</div>
